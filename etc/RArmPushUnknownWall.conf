{
    // Specific settings for the controller
    // Initial position of the box center (x/y/z)
    "box_init": [0.35, 0, 0.9408],
    "boxEfTask": {"bodyName" : "box", "errorBound": 0.5, "stiffness" : 5.0, "weight" : 10000.0, "liftBoxOffset" : [0.0, 0.0, 0.3] },
    "BoxPostureTask" : {"weight": 100, "stiffness" : 1.0 },
    // Intermediate target for spline
    "contact_targets":
    {
      // x/y relative to Left surface, z penetration depth (< 0)
      // x > 0 : higher, y > 0: farther from robot
      "left": [0, 0, -0.01],
      // x/y relative to Right surface, z penetration depth (< 0)
      // x > 0 : higher, y > 0: closer to robot
      "right": [0, 0, -0.01]
    },
    "contact_detection":
    {
	    "UseForceSensor": false, // if true, use the force sensors to detect contact, otherwise use geometric sensor
	    "ForceThreshold": 3.0, // Force threshold that triggers transition. Only used if UseForceSensor is true
	    "ContactThreshold": 1e-5, // Contact distance threshold that triggers transition.
    },
    // Lifting height (m)
    "lift_height": 0.20,
    "push_depth": 0.10,
    // Trajectory task settings
    "trajectory":
    {
      "duration": 6.0,
      "stiffness": 500.0,
      "weight": 500
    },
    // CoM task settings
    "com":
    {
      "type": "com",
      "robotIndex": 0,
      "stiffness": 2.0,
      "weight": 100
    },
    // FSM settings
    "Managed": false,
    "StepByStep": false,
    "IdleKeepState": true,
    "StatesLibraries": [
        "/usr/local/lib/mc_controller/fsm/states",
        "/usr/local/lib/mc_controller/r_arm_push_unknown_wall/states"
    ],
    "StatesFiles": [
        "/usr/local/lib/mc_controller/fsm/states/data",
        "/usr/local/lib/mc_controller/r_arm_push_unknown_wall/states/data"
    ],
    "robots": {
        "box": {
            "module": "object",
            "params": [
                "/home/yuquan/catkin_ws/src/mc_rtc_ros_data/mc_int_obj_description",
                "big_box"
            ]
        },
        "ground":
        {
          "module": "env",
          "params": ["@MC_ENV_DESCRIPTION@", "ground"]
        }
    },
    "constraints": [
        {
            "type": "contact"
        },
        {
            "type": "dynamics",
            "robotIndex": 0,
            "damper": [
                0.005,
                0.0005,
                0.5
            ]
        },
        {
            "type": "dynamics",
            "robotIndex": 1
        }
    ],
    "collisions": [
        {
            "type": "collision",
            "r1Index": 0,
            "r2Index": 0,
            "useMinimal": true
        }
    ],
    "contacts": [
        {
            "r1": "hrp4",
            "r2": "ground",
            "r1Surface": "LeftFoot",
            "r2Surface": "AllGround"
        },
        {
            "r1": "hrp4",
            "r2": "ground",
            "r1Surface": "RightFoot",
            "r2Surface": "AllGround"
        },
        {
            "r1": "box",
            "r2": "ground",
            "r1Surface": "Bottom",
            "r2Surface": "AllGround"
        }
    ],
    "hrp4": {
        "posture": {
            "stiffness": 1.0,
            "weight": 10.0
        },
        "ff": {
            "stiffness": 2.0,
            "weight": 100.0
        },
	"leftEfTask": {"bodyName" : "l_wrist", "stiffness" : 5.0, "weight" : 1000.0, "bound" : 0.1 },
	"rightEfTask": {"bodyName" : "r_wrist", "stiffness" : 5.0, "weight" : 1000.0, "bound" : 0.1 },
	"lSurfaceTask": {"surfaceName" : "Left", "stiffness" : 5.0, "weight" : 10000.0, "bound" : 0.05 },
	"rSurfaceTask": {"surfaceName" : "Right", "stiffness" : 5.0, "weight" : 10000.0, "bound" : 0.05 }
    },
    "states": {
      "Prepare": 
      { "base": "PrepareHand", 
	"raiseHandOffset" : [0.0, 0.0, 0.2],
        "EfThreshold" : 3.0e-2 
      },
      "Contact":
      {
        "base": "DynamicContact", // C++ state
	"contactVelocity" : [0.2, 0.0, 0.0], // 
        "pushDepth":  [0.5, 0.0, 0.0], // Target position that should generate the impact 
      },
      "Final": { "base": "Pause", "placeholderParameter": 0.1 }
    },
    "transitions": [
        [ "Pause", "OK", "Prepare", "Auto" ],
        [ "Prepare", "RightHandReady", "Contact", "Auto" ],
	[ "Contact", "OK", "Final", "Auto" ]
    ]
}
